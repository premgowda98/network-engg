services:
  mitmproxy:
    image: mitmproxy/mitmproxy
    command: mitmweb --web-host 0.0.0.0 --mode regular --listen-port 8080 --web-port 8081 --set web_password=mypassword
    ports:
      - "8080:8080"  # Proxy port
      - "8081:8081"  # Web UI port
    volumes:
      - ./mitmproxy-data:/home/mitmproxy/.mitmproxy
    restart: unless-stopped
    stdin_open: true
    tty: true
